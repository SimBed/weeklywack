<% provide(:title, 'Reset password') %>
<h2>Reset password</h2>

<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <%= form_with(model: @user, url: password_reset_path(params[:id]), local: true) do |form| %>
      <!--took some time to establish why this is causing an error (but fine when commented out)
      there is an exercise in early chapter (listing 10.5 may also clarify) where code diverges when
      reformatting introduced
      shared error messages partial didnt know what object was.-->
      <%#= render 'shared/error_messages' %>
      <%= render 'shared/error_messages', object: form.object %>

      <%= hidden_field_tag :email, @user.email %>

      <%= form.label :password %>
      <%= form.password_field :password, class: 'form-control' %>

      <%= form.label :password_confirmation, "Confirmation" %>
      <%= form.password_field :password_confirmation, class: 'form-control' %>

      <%= form.submit "Update password", class: "btn btn-primary" %>
    <% end %>
  </div>
</div>
